<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Poll Page</title>
  <!-- Firebase scripts -->
  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>

  <script>
    var firebaseConfig = {
            apiKey: "AIzaSyDpH1j5UfMlGXLqHaK7lqVWi0CkGbfN9SI",
            authDomain: "one-eleven-app-7f282.firebaseapp.com",
            databaseURL: "https://one-eleven-app-7f282-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "one-eleven-app-7f282",
            storageBucket: "one-eleven-app-7f282.appspot.com",
            messagingSenderId: "503866403242",
            appId: "1:503866403242:ios:782e6c3e12ec99e66aa3d3"
        };
    firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
  </script>
</head>

<body>
  <h1>Poll Page Placeholder</h1>

  <!-- Button + Paragraph -->
  <button id="testWriteBtn">Write Test Doc</button>
  <p id="writeStatus"></p>

  <!-- Put the click listener AFTER the button appears in HTML -->
  <script>
    document.getElementById('testWriteBtn').addEventListener('click', async () => {
      const writeStatus = document.getElementById('writeStatus');
      try {
        await db.collection("testCollection").add({
          message: "Hello from poll.html",
          timestamp: new Date()
        });
        writeStatus.textContent = "Document written successfully!";
      } catch (error) {
        console.error("Error writing document:", error);
        writeStatus.textContent = "Failed to write doc.";
      }
    });
  </script>

</body>
</html>
